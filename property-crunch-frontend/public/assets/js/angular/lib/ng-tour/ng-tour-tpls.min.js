!function(t,e,n){"use strict";angular.module("angular-tour",["angular-tour.tpls","angular-tour.tour"]),angular.module("angular-tour.tpls",["tour/tour.tpl.html"]),angular.module("tour/tour.tpl.html",[]).run(["$templateCache",function(t){t.put("tour/tour.tpl.html",'<div class="tour-tip">\n   <span class="tour-arrow tt-{{ ttPlacement }}"></span>\n   <div class="tour-content-wrapper">\n       <div class="top">\n           <div class="left">\n               <div class="icon-wrap">\n                   <i ng-class="ttIcon"></i>\n               </div>\n           </div>\n           <div class="right">\n               <h5 ng-bind="ttHeading"></h5>\n               <p ng-bind="ttContent"></p>\n           </div>\n       </div>\n       <div class="bottom">\n           <div class="left">\n               <ul class="navlist" ng-class="ttNavLabel">\n                   <li ng-repeat="i in ttNavItems">&#183;</li>\n               </ul>\n           </div>\n           <div class="right">\n               <a ng-show="ttPrevLabel" ng-click="setCurrentStep(getCurrentStep() - 1)" class="btn btn-xs tour-prev-tip">\n                   <i class="icon-arrow-left4"></i><span ng-bind="ttPrevLabel"></span>\n               </a>\n               <a ng-show="ttNextLabel && !ttLast" ng-click="setCurrentStep(getCurrentStep() + 1)" class="btn btn-xs tour-next-tip">\n                   <span ng-bind="ttNextLabel"></span><i class="icon-arrow-right4"></i>\n               </a>\n               <a ng-show="ttLast" ng-click="closeTour()" class="btn btn-xs tour-next-tip">\n                   <span ng-bind="ttNextLabel"></span>\n               </a>\n           </div>\n       </div>\n       <a ng-click="closeTour()" class="tour-close-tip">Ã—</a>\n   </div>\n</div>')}]),angular.module("angular-tour.tour",[]).constant("tourConfig",{placement:"top",animation:!0,nextLabel:"Next",prevLabel:"Previous",scrollSpeed:900,offset:28}).controller("TourController",["$scope","orderedList","scrollTo","$cookieStore",function(t,e,n,r){var o=this,a=o.steps=e();o.postTourCallback=angular.noop,o.postStepCallback=angular.noop,o.currentStep=!1,t.$watch(function(){return o.currentStep},function(t){o.select(t)}),o.select=function(t){if(angular.isNumber(t)){o.unselectAllSteps();var e=a.get(t);e&&(e.ttOpen=!0),o.currentStep!==t&&(o.currentStep=t),t>=a.getCount()&&o.postTourCallback(),o.postStepCallback()}},o.addStep=function(t){angular.isNumber(t.index)&&!isNaN(t.index)?a.set(t.index,t):a.push(t)},o.unselectAllSteps=function(){a.forEach(function(t){t.ttOpen=!1})},o.cancelTour=function(){o.unselectAllSteps(),o.postTourCallback()},t.openTour=function(){var t=o.currentStep>=a.getCount()||o.currentStep<0?0:o.currentStep;o.select(t)},t.closeTour=function(){o.cancelTour(),n(0),r.put("noTour",!0)},t.$on("runTour",function(){o.currentStep=0,o.select(0)})}]).directive("tour",["$parse",function(t){return{controller:"TourController",restrict:"EA",scope:!0,link:function(e,n,r,o){if(!angular.isDefined(r.step))throw"The <tour> directive requires a `step` attribute to bind the current step to.";var a=t(r.step);e.$watch(r.step,function(t){o.currentStep=t}),o.postTourCallback=function(){angular.isDefined(r.postTour)&&e.$parent.$eval(r.postTour)},o.postStepCallback=function(){angular.isDefined(r.postStep)&&e.$parent.$eval(r.postStep)},e.setCurrentStep=function(t){a.assign(e.$parent,t),o.currentStep=t},e.getCurrentStep=function(){return o.currentStep}}}}]).directive("tourtip",["$window","$compile","$interpolate","$timeout","scrollTo","tourConfig",function(t,e,n,r,o,a){var i="<div tour-popup></div>";return{require:"^tour",restrict:"EA",scope:!0,link:function(n,s,u,l){function c(){var e,r,i,u,l,c,p;if(n.ttContent){n.ttAnimation?f.fadeIn():f.css({display:"block"}),s.after(f),p=s.children().eq(0).length>0?s.children().eq(0):s;var d=function(){switch(e=p.position(),r=f.width(),i=f.height(),c=p.width(),l=p.height(),n.ttPlacement){case"right":u={top:e.top,left:e.left+c+n.ttOffset};break;case"bottom":u={top:e.top+l+n.ttOffset,left:e.left};break;case"left":u={top:e.top,left:e.left-r-n.ttOffset};break;default:u={top:e.top-i-n.ttOffset,left:e.left}}u.top+="px",u.left+="px",f.css(u),o(f,-200,-300,a.scrollSpeed)};angular.element(t).bind("resize."+n.$id,function(){d()}),d()}}function p(){f.detach(),angular.element(t).unbind("resize."+n.$id)}u.$observe("tourtip",function(t){n.ttContent=t}),u.$observe("tourtipPlacement",function(t){n.ttPlacement=t||a.placement}),u.$observe("tourtipNextLabel",function(t){n.ttNextLabel=t||a.nextLabel}),u.$observe("tourtipOffset",function(t){n.ttOffset=parseInt(t,10)||a.offset}),u.$observe("tourtipPrevLabel",function(t){n.ttPrevLabel=t||a.prevLabel}),u.$observe("ttNavLabel",function(t){n.ttNavLabel=t}),u.$observe("ttNavItems",function(t){n.ttNavItems=t}),u.$observe("ttHeading",function(t){n.ttHeading=t}),u.$observe("ttIcon",function(t){n.ttIcon=t}),u.$observe("ttLast",function(t){n.ttLast=t}),n.ttOpen=!1,n.ttAnimation=a.animation,n.index=parseInt(u.tourtipStep,10);var f=e(i)(n);l.addStep(n),r(function(){n.$watch("ttOpen",function(e){e&&t.innerWidth>1199?c():p()})},500),n.$on("$destroy",function d(){angular.element(t).unbind("resize."+n.$id),f.remove(),f=null})}}}]).directive("tourPopup",function(){return{replace:!0,templateUrl:"tour/tour.tpl.html",scope:!0,restrict:"EA"}}).factory("orderedList",function(){var t=function(){this.map={},this._array=[]};t.prototype.set=function(t,e){if(angular.isNumber(t))if(t in this.map)this.map[t]=e;else{if(t<this._array.length){var n=t-1>0?t-1:0;this._array.splice(n,0,t)}else this._array.push(t);this.map[t]=e,this._array.sort(function(t,e){return t-e})}},t.prototype.indexOf=function(t){for(var e in this.map)if(this.map.hasOwnProperty(e)&&this.map[e]===t)return Number(e)},t.prototype.push=function(t){var e=this._array[this._array.length-1]+1||0;this._array.push(e),this.map[e]=t,this._array.sort(function(t,e){return t-e})},t.prototype.remove=function(t){var e=this._array.indexOf(t);if(-1===e)throw new Error("key does not exist");this._array.splice(e,1),delete this.map[t]},t.prototype.get=function(t){return this.map[t]},t.prototype.getCount=function(){return this._array.length},t.prototype.forEach=function(t){for(var e,n,r=0;r<this._array.length;r++)e=this._array[r],n=this.map[e],t(n,e)},t.prototype.first=function(){var t,e;return t=this._array[0],e=this.map[t]};var e=function(){return new t};return e}).factory("scrollTo",function(){return function(t,e,n,r){t?(e=e||-100,n=n||-100,r=r||500,$("html,body").stop().animate({scrollTop:t.offset().top+e,scrollLeft:t.offset().left+n},r)):$("html,body").stop().animate({scrollTop:0},r)}})}(window,document);