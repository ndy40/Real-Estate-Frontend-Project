!function(t){"use strict";function e(t,e){return void 0===e?!1:(e=JSON.stringify(e),localStorage.setItem(t,e),!0)}function r(t){var e=localStorage.getItem(t);return e?e=JSON.parse(e):{}}function i(t){localStorage.removeItem(t)}function n(e){if(t.isObject(e)){for(var r in e)if(e.hasOwnProperty(r))return!1;return!0}return t.isUndefined(e)||""===e||null===e||e!==e}function a(e,r){if(!t.isArray(e))return!1;if(t.isObject(r)){for(var i=0;i<e.length;i++)if(t.equals(e[i],r))return i;return-1}return e.indexOf(r)}var o=function(){this.$get=function(){var o=function(t){this.$$tableName=t,this.$$table=r(t)};o.prototype.addItem=o.prototype.setItem=function(r,i){var a,o;if(o=t.isUndefined(i),o&&n(this.$$table))this.$$table=[];else if(o&&!t.isArray(this.$$table))throw new Error("itemName should be specified in Object Storage mode.");return o?(a=r,this.$$table.push(a)):a=this.$$table[r]=i,e(this.$$tableName,this.$$table),a},o.prototype.getItem=function(t){var e;return this.$$table.hasOwnProperty(t)?e=this.$$table[t]:null},o.prototype.removeItem=function(r){var i;return i=t.isArray(this.$$table)?this._removeFromArray(r):this._removeFromObject(r),e(this.$$tableName,this.$$table),i},o.prototype._removeFromArray=function(e){var r,i;return r=t.isNumber(e)?e:a(this.$$table,e),r<=this.$$table.length&&r>=0?(i=this.$$table[r],this.$$table.splice(r,1),i):null},o.prototype._removeFromObject=function(t){var e;return this.$$table.hasOwnProperty(t)?(e=this.$$table[t],delete this.$$table[t],e):null},o.prototype.truncate=function(){this.$$table={},i(this.$$tableName),this.$$tableName=""};var s=function(t){return new o(t)};return s}};t.module("localStorageModule",[]).provider("$storage",o)}(angular);