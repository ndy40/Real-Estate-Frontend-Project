define(["../module.min"],function(e){"use strict";e.directive("pcSearchForm",["SearchService","$location",function(e,c){return{restrict:"E",templateUrl:"./modules/search/directives/searchbox.html",scope:{keywords:"=",redirect:"@",bindResult:"=",filters:"=",callback:"=",back:"@"},link:function(r,t,a){r.searchProperty=function(c){e.clearFilters(),e.clearCache(),e.setCurrentPage(1),e.setKeyword(c),e.getResults().success(r.handleSearchData)},r.handleSearchData=function(t){void 0!==a.bindResult&&(r[a.bindResult]=t),void 0!==a.redirect&&(e.cacheResults(t),c.path(a.redirect)),void 0!==a.callback&&r.callback(t)},r.enterSearch=function(e,c){13===e.keyCode&&r.searchProperty(c)}}}}])});