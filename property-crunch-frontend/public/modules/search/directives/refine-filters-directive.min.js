define(["../module.min"],function(e){"use strict";e.directive("pcRefineFilters",["SearchService",function(e){return{restrict:"E",templateUrl:"./modules/search/directives/refine-filters.html",scope:{callback:"="},link:function(t){t.filters={},t.getPriceList=function(){0===e.getPriceListCache().length?e.getPriceList().success(function(i){var r=Array.prototype.map.call(i.data,function(e){return{option:e.option,value:e.value}});t.filters.minPriceList=r,t.filters.maxPriceList=r,e.cachePriceList(r)}):(t.filters.minPriceList=e.getPriceListCache(),t.filters.maxPriceList=e.getPriceListCache())},t.getTypeList=function(){0===e.getTypeListCache().length?e.getTypeList().success(function(i){var r=Array.prototype.map.call(i.data,function(e){return{option:e.name,value:e.id}});t.filters.types=r,e.cacheTypeList(r)}):t.filters.types=e.getTypeListCache()},t.getYieldList=function(){0===e.getYieldListCache().length?e.getYieldList().success(function(i){var r=Array.prototype.map.call(i.data,function(e){return{option:e.option,value:e.value}});t.filters.yieldList=r,e.cacheYieldList(r)}):t.filters.yieldList=e.getYieldListCache()},t.initList=function(){t.getPriceList(),t.getTypeList(),t.getYieldList()},t.initList(),t.setCurrentMinPrice=function(t){e.setCurrentMinPrice(-1!==t.value?t:void 0)},t.setCurrentMaxPrice=function(t){e.setCurrentMaxPrice(-1!==t.value?t:void 0)},t.setCurrentType=function(t){e.setCurrentType(-1!==t.value?t:void 0)},t.setCurrentYield=function(t){e.setCurrentYield(-1!==t.value?t:void 0)},t.setCurrentRooms=function(t){e.setCurrentRooms(t>0?t:void 0)},t.currentMinPrice=e.getCurrentMinPrice(),t.currentMaxPrice=e.getCurrentMaxPrice(),t.currentRooms=e.getCurrentRooms(),t.currentType=e.getCurrentType(),t.currentYield=e.getCurrentYield()}}}])});