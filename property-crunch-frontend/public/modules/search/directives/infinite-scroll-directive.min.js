define(["../module.min"],function(i){"use strict";i.directive("infiniteScroll",["$rootScope","$window","$timeout",function(i,n,e){return{link:function(t,o,l){n=angular.element(n);var r,c,f=!1,u=0,a=!0;r=function(){var r=n.width();return 768>r?(null!=l.infiniteScrollDistance&&t.$watch(l.infiniteScrollDistance,function(i){return u=parseInt(i,10)}),null!=l.infiniteScrollDisabled&&t.$watch(l.infiniteScrollDisabled,function(i){return a=!i,a&&f?(f=!1,c()):void 0}),c=function(){var e,r,c,d;return d=n.height()+n.scrollTop(),e=o.offset().top+o.height(),r=e-d,c=r<=n.height()*u,c&&a?i.$$phase?t.$eval(l.infiniteScroll):t.$apply(l.infiniteScroll):c?f=!0:void 0},n.on("scroll",c),t.$on("$destroy",function(){return n.off("scroll",c)}),e(function(){return l.infiniteScrollImmediateCheck?t.$eval(l.infiniteScrollImmediateCheck)?c():void 0:c()},0)):void n.unbind("scroll")},r(),n.on("resize",r)}}}])});