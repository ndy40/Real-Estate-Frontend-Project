define(["../module.min"],function(e){"use strict";e.directive("pcPager",["SearchService","$anchorScroll",function(e,t){return{restrict:"E",templateUrl:"./modules/search/directives/pager.html",scope:{properties:"=",totalResults:"=",callback:"="},link:function(a){a.initPagination=function(){a.currentPage=e.getCurrentPage(),a.resultsPerPage=e.getResultsPerPageValue(),a.pagesArray=[],a.totalPages=a.totalResults<a.resultsPerPage?1:Math.ceil(a.totalResults/a.resultsPerPage),a.createPages(),a.setActivePage(a.currentPage),a.hideFirstOrLast()},a.pushNewPage=function(e){a.pagesArray.push({num:e+1,isActive:!1})},a.createPages=function(){var e,t,r;if(a.totalPages>5)if(a.currentPage+4>a.totalPages)for(e=a.totalPages-5;e<a.totalPages;e+=1)a.pushNewPage(e);else for(t=a.currentPage-1;t<a.currentPage+4;t+=1)a.pushNewPage(t);else for(r=0;r<a.totalPages;r+=1)a.pushNewPage(r)},a.setActivePage=function(e){var t;if(a.pagesArray.length>0)if(1===e)a.pagesArray[0].isActive=!0;else for(t=0;t<a.pagesArray.length;t+=1)a.pagesArray[t].num===e&&(a.pagesArray[t].isActive=!0)},a.hideFirstOrLast=function(){a.first=1===a.currentPage||1!==a.currentPage&&a.totalPages<=5?!1:!0,a.last=a.currentPage===a.totalPages?!1:!0},a.changePage=function(r){a.currentPage=r,e.setCurrentPage(r),a.callback(),t()},a.$watch("properties",function(){a.initPagination()})}}}])});