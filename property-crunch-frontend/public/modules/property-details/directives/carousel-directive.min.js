define(["../module.min"],function(e){"use strict";e.directive("pcCarousel",function(){return{restrict:"E",templateUrl:"./modules/property-details/directives/carousel.html",scope:{imagesSrc:"="},link:function(e){e.currentImg="",e.initCarousel=function(){var t=$(".property-img-carousel .owl-carousel"),r=$(".property-img-carousel .item"),i=$(".property-img-carousel .next"),a=$(".property-img-carousel .prev");t.owlCarousel({items:4,itemsDesktop:[1199,4],itemsDesktopSmall:[991,4],itemsTablet:[767,4],itemsMobile:[479,3],slideSpeed:500,autoPlay:!1}),e.currentImg=e.imagesSrc[0].image,e.updatePreview=function(){e.currentImg=$(".item.active img").attr("src"),e.$apply()},r.on("click",function(){r.removeClass("active"),$(this).addClass("active")}),i.on("click",function(){t.trigger("owl.next");var i=$(".property-img-carousel .item.active").parent().next().children(".item");0===i.length?(r.removeClass("active"),$(".property-img-carousel .first").addClass("active")):(i.addClass("next"),r.removeClass("active"),$(".item.next").addClass("active").removeClass("next")),e.updatePreview()}),a.on("click",function(){t.trigger("owl.prev");var i=$(".property-img-carousel .item.active").parent().prev().children(".item");0===i.length?(r.removeClass("active"),$(".property-img-carousel .last").addClass("active")):(i.addClass("prev"),r.removeClass("active"),$(".item.prev").addClass("active").removeClass("prev")),e.updatePreview()})},e.setCurrentImg=function(t){e.currentImg=t},e.$watch("imagesSrc",function(){void 0!==e.imagesSrc&&e.initCarousel()})}}})});