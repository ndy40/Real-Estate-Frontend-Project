define(["../module.min"],function(e){"use strict";e.directive("pcToSellCalculator",function(){return{restrict:"E",scope:{purchasePrice:"="},templateUrl:"./modules/property-details/directives/to-sell-calculator.html",link:function(e){e.toSell={mortgageLtv:.75,mortgageRate:.06,resalePrice:0,holdingPeriod:0,refurbishment:0,otherCosts:0,stampDuty:0,monthlyMortgage:"",depositNeeded:"",totalInvestment:"",profitLoss:"",rOI:""},e.calcStampDuty=function(){e.toSell.purchasePrice<=125e3?e.toSell.stampDuty=0:e.toSell.purchasePrice>125e3&&e.toSell.purchasePrice<=25e4?e.toSell.stampDuty=.02*(e.toSell.purchasePrice-125e3):e.toSell.purchasePrice>25e4&&e.toSell.purchasePrice<=925e3?e.toSell.stampDuty=.05*(e.toSell.purchasePrice-25e4)+2500:e.toSell.purchasePrice>925e3&&e.toSell.purchasePrice<=15e5?e.toSell.stampDuty=.1*(e.toSell.purchasePrice-925e3)+36250:e.toSell.purchasePrice>15e5&&(e.toSell.stampDuty=.12*(e.toSell.purchasePrice-15e5)+93750)},e.calculateToSellResults=function(){e.toSell.monthlyMortgage=e.toSell.purchasePrice*e.toSell.mortgageLtv*e.toSell.mortgageRate/12,e.toSell.depositNeeded=e.toSell.purchasePrice-e.toSell.purchasePrice*e.toSell.mortgageLtv,e.calcStampDuty(),e.toSell.totalInvestment=e.toSell.depositNeeded+e.toSell.refurbishment+e.toSell.otherCosts+e.toSell.purchasePrice*e.toSell.mortgageLtv*e.toSell.mortgageRate/12*e.toSell.holdingPeriod+e.toSell.stampDuty,e.toSell.profitLoss=e.toSell.resalePrice-(e.toSell.totalInvestment+e.toSell.purchasePrice*e.toSell.mortgageLtv),e.toSell.rOI=e.toSell.profitLoss/e.toSell.totalInvestment,e.toSellResults=!0},e.reCalculateToSellResults=function(){e.toSellResults=!1},e.$watch("purchasePrice",function(){e.toSell.purchasePrice=void 0===e.purchasePrice?0:e.purchasePrice})}}})});