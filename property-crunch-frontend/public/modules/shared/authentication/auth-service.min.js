define(["./module.min"],function(t){"use strict";return t.factory("AuthService",["$http","$cookieStore","AUTHURL",function(t,e,o){var n=function(){this.user=void 0,this.isLoggedIn="true"===e.get("isLoggedIn")?!0:!1};return n.prototype.getCurentUser=function(e){t.get(o).success(e)},n.prototype.authenticate=function(e,n,r){var i={email:e,password:n,remember:r};return t.post(o,i)},n.prototype.login=function(t,e,o,n,r){var i=this;if(void 0===o&&(o=!1),void 0===n)throw new Exception("No callback method provided.");this.authenticate(t,e,o).success(function(t){i.isLoggedIn=!0,n(t)}).error(function(t){i.user=null,i.isLoggedIn=!1,r&&r(t)})},n.prototype.destroy=function(){this.user=null,this.isLoggedIn=null,delete this.user,delete this.isLoggedIn,this.db.truncate()},n.prototype.logout=function(){var e=o+"/logout";return t.get(e)},n.prototype.register=function(e){var n=o+"/register",r;return r={first_name:e.first_name,last_name:e.last_name,email:e.email,password:e.password,password_confirmation:e.password_confirmation},t.post(n,r)},new n}])});