define(["../module.min"],function(e){"use strict";e.controller("LoginCtrl",["$scope","$rootScope","$routeParams","$location","AuthService",function(e,s,o,r,a){e.pageType={login:!1,signup:!1},e.setPage=function(){"in"===o.type?(e.pageType.login=!0,e.pageType.signup=!1):(e.pageType.login=!1,e.pageType.signup=!0)},e.setPage(),e.loginData={email:"",password:""},e.registerData={first_name:"",last_name:"",email:"",password:"",password_confirmation:""},e.login=function(){a.login(e.loginData.email,e.loginData.password,e.loginData.remember,function(e){void 0!==e&&(s.$broadcast("loginsuccess"),r.path("/pages/home"))},function(s){e.alert.failedLogin=!0,e.alert.loginMessage=s.flash})},e.$on("logOut",function(){s.showLogin=!1,s.user=void 0}),e.register=function(){a.register(e.registerData).success(function(){r.path("/register-success")}).error(function(s){var o=s.flash.split(",");e.showErrorMessage(!0,o),e.alert.success=!1})},e.showErrorMessage=function(s,o){e.alert.isError=s,e.alert.errorMessage=o},e.alert={isError:!1,errorMessage:"",success:!1}}])});